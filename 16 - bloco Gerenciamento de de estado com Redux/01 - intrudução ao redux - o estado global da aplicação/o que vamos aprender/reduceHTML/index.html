<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://unpkg.com/redux@latest/dist/redux.min.js"></script>
  <title>Redux</title>
</head>
<body>
  <div>
    Click: <span id="value">0</span> times
    <button type="button" id="incrementa">+</button>
    <button type="button" id="decrementa">-</button>
    <button type="button" id="adiciona10">+10</button>
    <button type="button" id="retira10">-10</button>
  </div>
  <script>
    function coutRedux(state = 0, action){
      switch(action.type){
        case 'INCREMENT':
          return state + action.value;

          case 'DECREMENT':
            return state - action.value;

          default:
            return state;
      }
    }
    // criando uma store - 1 faz o switch case , depois chama a função createStore()
    const store = Redux.createStore(coutRedux);

    // criando cons da action pata ficar mais semantico o codigo

    const INCREMENT = 'INCREMENT'
    const DECREMENT = 'DECREMENT'

    // criando evento de atualização do reducer com  store.dispatch(type:)
    document.getElementById('incrementa')
      .addEventListener('click', () =>{
        store.dispatch({
          type: INCREMENT,
          value: 1,
        });
      });

    document.getElementById("decrementa")
      .addEventListener('click', () =>{
        store.dispatch({
          type: DECREMENT,
          value: 1,
        })
      })

    document.getElementById("adiciona10")
      .addEventListener('click', () => {
        store.dispatch({
          type:INCREMENT,
          value: 10,
        })
      })

    document.getElementById("retira10")
      .addEventListener('click', () => {
        store.dispatch({
          type:DECREMENT,
          value: 10,
        })
      })

    // atualiza meu store
    store.subscribe(
      () => document.getElementById('value')
      .innerHTML = store.getState()
    )

  </script>

</body>
</html>